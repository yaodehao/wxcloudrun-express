<template><div><!--操作栏panel sheet --><!--#include file="crud_toolbar.html"--><!--  v-data-iterator Card风格------------------------- --><v-data-iterator v-if="cardmode" :items="d_items" :items-per-page.sync="itemsPerPage" :page="page" :search="search" hide-default-footer><template v-slot:default="props"><v-row><v-col v-for="item in props.items" :key="item.ID" cols="12" sm="6" md="4" lg="3"><v-card>	<v-img class="white--text align-end" height="150px" :src="item.d_pic">			</v-img>	<v-card-text class="brown lighten-2" @click="editItem(item)"><div class="body-1 white--text text-truncate">{{item.d_title}}</div></v-card-text><v-simple-table><template v-slot:default><tbody>	<tr><td>序号：{{item["ID"] }}</td> <td>排序：{{item["d_order"] }}</td></tr>		<tr><td colspan=2>类型：{{item["d_type"] }}</td></tr>	<tr><td colspan=2>{{item["d_title"] }}</td></tr></tbody></template></v-simple-table><v-divider></v-divider><v-card-actions>    <v-icon color="green" @click="editItem(item)" >mdi-eye</v-icon><v-spacer></v-spacer>	<v-icon color="warning" @click="deleteItem(item)">mdi-delete</v-icon></v-card-actions></v-card><br></v-col></v-row></template><!-- data-iterator页脚插件---------- --><!--#include file="crud_pager.html"--></v-data-iterator><br><!--  v-data-table 列表风格 --><v-data-table v-if="cardmode==false" :headers="headers" :items="d_items" :items-per-page.sync="itemsPerPage" :page="page" :search="search" class="elevation-2 text-truncate" mobile-breakpoint="100" >	<template v-slot:item.action="{item }"><v-icon small @click="editItem(item)" color="primary">mdi-lead-pencil</v-icon></template>	<template v-slot:no-data><v-btn color="primary" @click="newItem('')" small>无数据。点击新增记录</v-btn></template></v-data-table><v-dialog v-model="EditDialog" fullscreen scrollable><!-- 编辑的对话框----------dialog --><v-card ><!--#include file="crud_editbtn.html"--><v-card-text><br><v-row  dense><v-col cols="12" md="6" lg="4"><v-text-field v-model="editedItem.d_order" label="排序" type="number" :readonly="!editable" dense></v-text-field></v-col><v-col cols="12" md="6" lg="4"><v-text-field v-model="editedItem.d_type" label="类型" type="number"  :readonly="!editable" dense></v-text-field></v-col><v-col cols="12" md="6" lg="4"><v-text-field v-model="editedItem.d_pic" label="图片" type="text"     :readonly="!editable" dense>	<template v-slot:append><v-btn v-if="editable==true" color="primary" dark onclick="app.UploadPhoto('d_pic');" small>上传</v-btn></template></v-text-field></v-col><v-col cols="12"><v-textarea v-model="editedItem.d_title" label="标题：" outlined auto-grow :readonly="!editable" dense></v-textarea></v-col></v-row><!--#include file="closebtn.html"--></v-card-text></v-card></v-dialog><!-- 编辑的对话框 --></div></template><script>module.exports={data(){return {	<!--#include file="crud_var.html"-->	url_r:'/common/data_r.asp',	url_s:'/common/data_s.asp',	url_d:'/common/data_d.asp',	test_data:'test_data.html',	parm_r:{page:1,rows:20,r_order:'ID$desc',searchdb:'',r_where:'',			r_tab:'cm_portal',r_fd:'ID$d_order$d_type$d_title$d_pic',r_fd0:'d_order$d_type',r_fd1:'d_title$d_pic',},	defaultItem:{ID:-1,d_order:0,d_type:0,d_title:'我的测试',d_pic:'/images/syslogo.jpg'},	headers: [		{text: '操作',value: 'action',sortable: false,align:'center',divider:true,width:'50px' },		{text: 'ID', value: 'ID', align:'center', sortable: false,divider:true,width:'50px'},		{text: '排序',value: 'd_order',divider:true,align:'center'},		{text: '类型',value: 'd_type' ,divider:true,align:'center'},		{text: '标题',value: 'd_title',divider:false,align:'start' }, 		], } },computed:{numberOfPages(){return Math.ceil(this.d_items.length/this.itemsPerPage)},},created(){app.tabobj[app.tabobj.length -1]=this; this.queryObj=qs.parse('<!--#echo var="QUERY_STRING_UNESCAPED" -->'); this.init(); },methods: {	afterData(){app.ShowSnack('数据加载完成！')},	<!--#include file="crud_method.html"-->	 }, }</script>