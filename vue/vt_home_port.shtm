<template><div>	<!-- 轮播图片 ----- --><v-row><v-col cols="12" md="6"><v-carousel  cycle height="140px"   hide-delimiters show-arrows>    <v-carousel-item><v-img  width="100%" height="100%" src="/images/hzdx_banner1.png"></v-img></v-carousel-item>    <v-carousel-item><v-img  width="100%" height="100%" src="/images/syslogo.jpg"></v-img></v-carousel-item>    </v-carousel></v-col><v-col cols="12" md="6" ><!--  左上角notice通知2条 ----- -->	<v-row @click="LoadVueParm(varWin.appSN,'0','1','最新通知','vt_richText')"><v-col v-for="(item, index) in d_items_notice" :key="index" cols="12" md="6">		<v-card elevation="5" dense height="140" style="cursor:pointer"><v-toolbar :color="colors[0]" dark height="8"></v-toolbar>				<v-card-text><span class="line5"><B>{{item.d_title}}：</B>{{item.d_subtitle}}</span></v-card-text>		</v-card>	</v-col>	</v-row></v-col>	</v-row><!--  新闻4、6条 #FBFBEA米黄, #F0DAD2粉色， #F1FAFA默认浅色:<v-card class="my-5 pa-3" elevation="10" style="background:#F0DAD2">   #0066CC--><v-card class="my-3" elevation="0">	<v-toolbar color="#F0DAD2" height="4"></v-toolbar>	<v-toolbar height="30"  style="background:#F1FAFA" class="body-2"><span>新闻速递</span>		<v-spacer></v-spacer><span @click="LoadVueParm(varWin.appSN,'0','2','新闻速递','vt_richText_card')">打开本栏目</span>	</v-toolbar>	</v-card><component :is="coms[0]"></component><!--   数据看板3条 ---- --><hr class="my-3" style="height:1px;border:none;border-top:1px dashed red;" /><v-row >	<v-col cols="12" md="3">	<component :is="coms[1]"></component>	</v-col>	<!--   绩效动态1条 ---- -->	<v-col cols="12" md="9" >	<component :is="coms[2]"></component>	</v-col>	<!--   数据看板3条 ---- --></v-row>	<!--   应急预案、知识库、前缘聚焦--- --><hr class="my-3" style="height:1px;border:none;border-top:1px dashed red;" /><v-row >		<template v-for="(com, index) in coms" ><v-col  v-if="index>2&&index<7" cols="12" md="3" :key="index"><component :is="com"></component></v-col></template></v-row><!--  虚拟团队 ----- --><v-card class="my-3" elevation="0">	<v-toolbar color="#F0DAD2" height="4"></v-toolbar>	<v-toolbar height="30" color="#F1FAFA" class="body-2"><span>虚拟团队</span>	<v-spacer></v-spacer><span @click="LoadVueParm(varWin.appSN,'0','1','虚拟团队','vt_team')">打开本栏目</span>	</v-toolbar>	</v-card><component :is="coms[7]"></component><!--  值班卡片 ----- --><v-card class="my-3" elevation="0">	<v-toolbar color="#F0DAD2" height="3"></v-toolbar>	<v-toolbar height="30" color="#F1FAFA" class="body-4"><span>值班卡片</span>	<v-spacer></v-spacer><span @click="LoadVueParm(varWin.appSN,'0','1','虚拟团队','vt_team')">打开本栏目</span>	</v-toolbar>	</v-card><component :is="coms[8]"></component><br></div></template><script>module.exports={data(){return {		varWin:{}, //H5的window全局变量 	itemsPerPageArray: [5, 10, 15],	search:'',searchdb:'',	filter: {},	sortDesc: false,	page: 1,	itemsPerPage: 5,	sortBy:'ID',		EditDialog: false,	FlowDialog: false,	editable:false,	cardmode:true,	addcount:0, //新记录，ID默认值	editedIndex: -1,	editedItem: {},	d_items:[],		ID0:0,ID1:0, //最小ID	crudPager:true,  //页码  	crudToolbar:true, //工具栏  	crudPanel:false,  //工具栏下面的panel	queryObj:{},      //url参数	d_type:'',			b_folder:false,//目录（文件夹）				colors:['warning','primary','success','pink darken-2','warning' ],			d_items_notice:[{d_title:'通知1',d_subtitle:'测试hhhhhh',d_pic:'/images/s_learning.jpg'},	                {d_title:'通报说明式框架；被设计框架',d_subtitle:'测试ffff可',d_pic:'/images/jiancha.jpg',}],		coms:[],com_news:{},com_chart:{},			 } },created(){app.tabobj[app.tabobj.length -1]=this;	this.varWin =app.varWin;	//H5的window全局变量	this.queryObj=qs.parse(''); 	if( this.queryObj.portal){this.crudToolbar=false;this.crudPager=false;} //参数portal	if( this.queryObj.title){this.d_attr.title=this.queryObj.title;} 	},mounted(){		//app.TopTab=appSN;	app.TopRow='0';	app.d_type='2'; 	this.LoadVueToHome('vt_richText_card', 'vt_richText_card.shtm?portal=true&TopTab=port&TopRow=0&d_type=2&title=新闻速递'); //com-0	this.LoadVueToHome('vt_richText_kpi',  'vt_richText.shtm?portal=true&TopTab=port&TopRow=0&d_type=6&title=绩效通报');	//com-1		this.LoadVueToHome('vt_kpiBoard_portal', 'vt_kpiBoard_portal.shtm?portal=true&TopTab=port&TopRow=0&d_type=1');	//绩效看板com-2		this.LoadVueToHome('vt_richText_pro',  'vt_richText.shtm?portal=true&TopTab=port&TopRow=0&d_type=7&title=产品介绍');	//com-3	this.LoadVueToHome('vt_richText_focus','vt_richText.shtm?portal=true&TopTab=port&TopRow=0&d_type=4&title=前沿聚焦'); //com-4		this.LoadVueToHome('vt_richText_zsk',  'vt_richText.shtm?portal=true&TopTab=port&TopRow=0&d_type=3&title=知识库');	//com-5	this.LoadVueToHome('vt_richText_yjya', 'vt_richText.shtm?portal=true&TopTab=port&TopRow=0&d_type=5&title=应急预案');  //com-6		this.LoadVueToHome('vt_team','vt_team.shtm?portal=true&TopTab=port&TopRow=0&d_type=1');	 //虚拟团队 com-7	this.LoadVueToHome('vt_onduty', 'vt_onduty.shtm?portal=true'); //8	this.Asp2Arr('/common/notice.asp?TopTab='+appSN,	this,	'd_items_notice');//为notice赋值}, methods: {	afterData(){},		//规则：fun2,覆盖fun，fun0插入fun代码前	editItem(item){if(this.EditDialog){return 0 } 		if(typeof(eval(this.editItem2))=='function'){ this.editItem2(item) ; return 0 }				app.editItem(this,item);	this.EditDialog=true; 	}, //编辑				newItem(){ if(typeof(eval(this.newItem2))=='function'){this.newItem2(); return 0}	 			app.newItem(this); this.EditDialog=true;	this.editable=true;       		   if(typeof(eval(this.newInit))=='function'){this.newInit();}	 //执行初始化回调	},	moreItem(){ if(typeof(eval(this.moreItem2))=='function'){this.moreItem2(); return 0}	 			app.moreItem(this);       		  	},		deleteItem(item){ if(typeof(eval(this.deleteItem2))=='function'){this.deleteItem2(item); return 0}	 			app.deleteItem(this,item);this.EditDialog=false;},				saveData(){ if(typeof(eval(this.checkData))=='function'){if(this.checkData()!=1){return 0}}	 			if(typeof(eval(this.saveData2))=='function'){this.saveData2(); return 0}	 			app.saveData(this);}, //保存		close(){if(typeof(eval(this.close2))=='function'){this.close2(); return 0}	 			if(app.sysWin){app.sysWin=false;app.sysWinCom=''; return 0}			if(this.EditDialog){this.EditDialog = false; return 0}			app.DelTab()	},		//init2()>init0()+init() 	init(){ if(typeof(eval(this.init2))=='function'){this.init2(); return 0}			if(typeof(eval(this.init0))=='function'){this.init0();} 	//插入init0()			if(gv_db!=''){app.getData(this);}else{app.getTestData(this);}},//init				openTab(){if(this.parm_r.r_tab=='cm_richtext'){this.LoadVueParm(this.defaultItem.TopTab,this.defaultItem.TopRow,this.defaultItem.d_type,this.d_attr.title,'vt_richText_card') 		}else if(this.parm_r.r_tab=='cm_team'){    this.LoadVueParm(appSN,'0','1','虚拟团队','vt_team') }	 	    		}, //打开本栏目					LoadFolder(CurNode){//加载目录（文件夹）		this.clickedNode=CurNode;		this.defaultItem.topID=CurNode.id;		if(CurNode.id!=0){this.url_r='/common/data_r.asp?r_TopID='+CurNode.id; }//TopID下属检索 //修改app.ShowSnack('这是：'+ID);			else{this.url_r='/common/data_r.asp'; }		this.init();			if(CurNode.children.length){return 0} 	//已刷新				flowParm={page:1,rows:100, d_type:this.defaultItem.d_type,topID:CurNode.id};		axios.post('/common/data_folder.asp',qs.stringify(flowParm) ).then(response=>{			CurNode.childNum=response.data.rows.length;			for (var i=0; i < response.data.rows.length; i++)				{CurNode.children.push({id:response.data.rows[i].ID,name:response.data.rows[i].d_title,childNum:-1,children:[]});}						}).catch((err)=>{app.ShowAlert('warning','读取目录信息出错:',err); })	},			 	nextPage(){  if(this.page + 1 <= this.numberOfPages) this.page += 1},	formerPage(){if(this.page - 1 >= 1) this.page -= 1},	updateItemsPerPage(number) {		this.itemsPerPage = number },	haveAcc(myacc){return app.ACC.indexOf(myacc)>-1}, //是否具备某权限	LoadVue(s1,s2,s3,s4){app.LoadVue(s1,s2,s3,s4);},  //上级APP的函数重新封装	LoadVueACC(s1,s2,s3,s4,s5){app.LoadVueACC(s1,s2,s3,s4,s5);}, 		LoadVueParm(TopTab,TopRow,d_type,tabtitle,vueName,filename,parm){app.LoadVueParm(TopTab,TopRow,d_type,tabtitle,vueName,filename,parm)},	LoadVueMemID(TopTab,TopRow,tabtitle,vueName,filename,parm){app.LoadVueMemID(TopTab,TopRow,tabtitle,vueName,filename,parm)},	LoadVue2Win(t,vueName,filename,parm){app.LoadVue2Win(t,vueName,filename,parm)},		LoadVue2WinParm(TopTab,TopRow,d_type,t,vueName,filename,parm){app.LoadVue2WinParm(TopTab,TopRow,d_type,	t,vueName,filename,parm)},	OpenIfr(title,url){app.OpenIfr(title,url)},	MapByLatLng(title,lat,lng ){app.MapByLatLng(title,lat,lng )},		ShowJson(d){ShowJson(d)},		ShowAlert(Title,Msg,Type){if(Type){app.ShowAlert(Type,Title,Msg)}else{app.ShowAlert('warning',Title,Msg)}},	ShowSnack(Msg,color){app.ShowSnack(Msg,color)},	ObjClass(obj){alert(obj.constructor.name+'：'+obj.constructor)},	Asp2Arr(url,obj,fd){app.Asp2Arr(url,obj,fd)},		ExecFun(fun,p1,p2,p3){window[fun](p1,p2,p3);},//vue中执行window的函数			MyCall(telno,Title,Msg,calleeID){app.MyCall(telno,Title,Msg,calleeID)},//vue 封装	MyCallMulti(CalleeIDwx,CalleeIDdd,Title,Msg){app.MyCallMulti(CalleeIDwx,CalleeIDdd,Title,Msg)},	setTmpStr(item){app.tmpStr2=item.d_mem_name;	app.tmpStr3=item.d_title;	app.tmpStr1=item.d_mem;}, 	TmpStr(s1,s2,s3){app.tmpStr1=s1;	app.tmpStr2=s2;		app.tmpStr3=s3;}, 	SdkMeeting(Title,CalleeID,dtype,save){SdkMeeting(Title,CalleeID,dtype,save)},	SdkMeetingObj(obj){SdkMeetingObj(obj)},	SdkMsg(item){app.SdkMsg(item)},	SdkMsg2Uid(uid,uname,msg){app.SdkMsg2Uid(uid,uname,msg)},	MsgPost(obj){MsgPost(obj)},//发msg，在sdk-wx		sendDing(uids,title){sendDing(uids,title)},//发钉，在sdk-dd				ShowUserPos(id){ShowUserPos(id)},		selectUser(){selectUser(this.d_users)},// 分别在微信与钉钉sdk中	selectUserEx(){selectUserEx(this.d_usersEx)},//外部联系人			openUserProfile(uid){openUserProfile(uid)},	//微信打开profile	user4fd(fd){user4fd(this,fd)},	addr4fd(fd,latlng){app.addr4fd(this,fd,latlng)},		photo4fd(fd){photo4fd(this,fd)},	openPic(url){openPic(url)},	CallObj4Users(){app.tmpObj=this;	app.LoadVue2Win('选择用户','vt_CallObj')},// 分别在微信与钉钉sdk中,从群组中选择用户清单	postReadeded(tab,row,msg){app.postReadeded(tab,row,msg)},	postLog(msg1,msg2){app.postLog(msg1,msg2)},	VarRet(fd){return app[fd]},		 //initParm参数传给app临时变量,setParm临时变量传到Vue实例。	initParm(d_type){app.TopTab=this.parm_r.r_tab;	app.TopRow=this.editedItem.ID;		app.d_type=d_type;},	setParm(){this.defaultItem.TopTab=app.TopTab;	this.defaultItem.TopRow=app.TopRow;		this.defaultItem.d_type=app.d_type;		this.url_r ='/common/data_r.asp?TopTab='+app.TopTab+'&TopRow='+app.TopRow +'&d_type='+app.d_type;	//alert(this.url_r)		},	showColor(t){switch(t){ case 'Ⅰ级':case '红色':return 'error';				case 'Ⅱ级':case '橙色':return 'warning';							case 'Ⅲ级':case '黄色':return 'yellow darken-1'; 	case 'Ⅳ级':case '蓝色':return 'primary'; 	default:return 'green';}},			LoadVueToHome(vueName,filename,parm){			var myfile= filename==null ? vueName+'.shtm?portal=true':filename;			app.vueParm=parm;	//参数传递			if( this.coms.indexOf(vueName+'_P')== -1){Vue.component(vueName+'_P',httpVueLoader(myfile));  //vueName +P避免与indx里面注册的名称重复				this.coms.push(vueName+'_P')}		}, },//methods computed:{numberOfPages(){return Math.ceil(this.d_items.length/this.itemsPerPage)},}, }</script>