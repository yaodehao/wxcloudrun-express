<template><div><!--操作栏panel sheet --><v-toolbar class="mx-auto mb-3" color="transparent" dense elevation="0"  v-if="crudToolbar">	 <v-spacer></v-spacer>	<v-btn-toggle dense shaped>	<v-btn v-if="cardmode" @click="cardmode=false">列表风格</v-btn>	<v-btn v-else          @click="cardmode=true" >卡片风格</v-btn>		<v-btn @click="init()"       >刷新</v-btn>	<v-btn @click="newItem()"    >新增</v-btn>	<v-btn onclick="app.ClosePage()">关闭</v-btn></v-btn-toggle><v-spacer></v-spacer>		<v-icon color="primary" @click="crudPanel=!crudPanel" color="primary">mdi-menu</v-icon></v-toolbar><v-alert v-model="crudPanel" border="top"  colored-border color="warning" elevation="2" align="start"><v-row dense><v-col cols="12" sm="12" md="12" lg="6"><v-text-field v-model="search" clearable hide-details outlined dense label="数据过滤（查找），请输入关键字：" ></v-col><!-- 模糊搜索临时取消<v-col cols="12" sm="6" md="4" lg="3"><v-text-field v-model="searchdb" clearable hide-details outlined dense label="模糊搜索" append-icon="mdi-transfer-down" @click:append="alert('s')"></v-col>--></v-row></v-alert>	<!--  v-data-iterator 个性化Card风格展示数据--------- --><v-data-iterator v-if="cardmode" :items="d_items" :items-per-page.sync="itemsPerPage" :page="page" :search="search" hide-default-footer><template v-slot:default="props"><v-row><v-col v-for="(item, index) in props.items" :key="item.ID" cols="12" sm="6" md="4" lg="3"><v-card elevation="10">	<v-toolbar :color="this.myColors[index % 5]" dark dense @click="editItem(item)"><v-toolbar-title>{{item.d_title}}</v-toolbar-title></v-toolbar>		<v-simple-table><template v-slot:default><tbody>	<tr><td colspan=2 class="py-3">需求描述：{{item["d_task"] }}</td></tr>		<tr><td colspan=2><v-chip color="warning"  small label class="ma-1">点将名单</v-chip>{{item.d_mem_name}}<v-icon v-if="item.d_mem!=''" color="green" 	@click="TmpStr(item.d_mem,item.d_mem_name,this.g_username+'的呼叫');LoadVueParm(parm_r.r_tab,item.ID,0,'视频会议','vt_meeting')">mdi-phone-classic</v-icon></td></tr>	<tr><td colspan=2>时间：{{item["d_date1"] }}[至]{{item["d_date2"] }}</td></tr>	<tr><td colspan=2>环节:		<v-chip color="warning"  small label class="ma-1">{{item.cur_status}}</v-chip>		<v-chip color="success"  small label class="ma-1">{{item.cur_dept}}</v-chip>		<v-chip color="primary"  small label class="ma-1">{{item.cur_clr}}</v-chip>	</td></tr>	<tr><td colspan=2>备注：{{item["d_memo"] }}</td></tr>	<tr><td colspan=2><v-rating v-model="rating" background-color="red lighten-3" color="red"></v-rating></td></tr>		   	 	<tr  v-if="item.d_addr"><td colspan=2>{{item["d_addr"] }}</td></tr></tbody></template></v-simple-table><v-divider></v-divider> <v-expansion-panels>      <v-expansion-panel>        <v-expansion-panel-header><v-spacer></v-spacer>操作按钮</v-expansion-panel-header>        <v-expansion-panel-content>	        	<!-- cardAction的3个操作chip---------- -->	<!--  v-if="this.app.browserQYWX" --><v-card-actions class="py-3">	<v-chip   color="primary"  small outlined label 			@click="SdkMsg(item)">信息推送</v-chip>		<v-spacer></v-spacer>		<v-chip   color="primary"  small outlined label			@click="LoadVueParm(parm_r.r_tab,item.ID,0,'视频直播','vt_living')"  >视频直播</v-chip>	   	<v-spacer></v-spacer>	<v-chip   color="primary"  small outlined label			@click="setTmpStr(item);LoadVueParm(parm_r.r_tab,item.ID,0,'视频会议','vt_meeting')" >视频会议</v-chip></v-card-actions>		<!-- cardAction的3个操作chip---------- -->	<v-card-actions class="py-3">	<v-chip   color="success"  small label		@click="LoadVueParm(parm_r.r_tab,item.ID,21,'工作动态','vt_richText')" >工作动态</v-chip>	<v-spacer></v-spacer>		<v-chip   color="success"  small label		@click="LoadVueParm(parm_r.r_tab,item.ID,22,'经验分享','vt_richText')" >经验分享</v-chip>	   	<v-spacer></v-spacer>  	<v-chip color="success"  small   label   		@click="LoadVueParm(parm_r.r_tab,item.ID,0,'附件管理','vt_files')" >附件：{{item.attachNum}}</v-chip></v-card-actions>	<v-card-actions class="py-3">		<v-chip color="success"  small outlined  label @click="LoadVueParm(parm_r.r_tab,item.ID,31,'绩效看板','vt_kpiBoard')">绩效看板</v-chip><v-spacer></v-spacer>	<v-chip color="success"  small outlined  label @click="LoadVueParm(parm_r.r_tab,item.ID,31,'里程节点','vt_timeline')">里程节点</v-chip><v-spacer></v-spacer>	<v-chip color="success" small outlined  label @click="MapByLatLng('项目位置',item.d_lat,item.d_lng)">项目地图</v-chip></v-card-actions>        </v-expansion-panel-content>      </v-expansion-panel></v-expansion-panels>   </v-card><br></v-col></v-row></template>	<!-- data-iterator页脚插件---------- -->	<template v-slot:footer><v-row v-if="crudPager" class="mx-1 mt-3" align="center" justify="center">	<v-btn-toggle  dense shaped>	<v-btn small @click="formerPage">上页</v-btn>	<v-btn small>P{{page}}/共{{numberOfPages}}</v-btn>	<v-menu offset-y  class="mx-0">		<template v-slot:activator="{on}"><v-btn small dark text color="primary" v-on="on">每页{{itemsPerPage}}</v-btn></template>		<v-list><v-list-item v-for="(number,index) in itemsPerPageArray" :key="index" @click="updateItemsPerPage(number)">		<v-list-item-title class="ma-0 pa-0">{{number}}</v-list-item-title></v-list-item></v-list>	</v-menu>			<v-btn small  @click="moreItem()" >更多</v-btn>	<v-btn small  @click="nextPage">下页</v-btn></v-btn-toggle> 	<v-btn small v-if="crudToolbar" block depressed class="my-6 body-1 grey lighten-1 white--text"  onclick="app.ClosePage()" >	<v-icon>mdi-keyboard-return</v-icon><v-spacer></v-spacer>关闭本页<v-spacer></v-spacer><v-icon>mdi-keyboard-return</v-icon></v-btn>	</v-row></template></v-data-iterator><br>	<!--  v-data-table 横向列表风格 --> 	<v-data-table v-if="cardmode==false" :headers="headers" :items="d_items" :items-per-page.sync="itemsPerPage" :page="page" :search="search" class="elevation-5 text-truncate" mobile-breakpoint="100" >	<template v-slot:item.action="{item }"><v-icon  @click="editItem(item)" color="primary">mdi-lead-pencil</v-icon></template>	<template v-slot:no-data><v-btn color="primary" @click="newItem('')" small>无数据。点击新增记录</v-btn></template></v-data-table><br><v-dialog v-model="EditDialog" fullscreen scrollable><!-- 编辑的对话框----------dialog --><v-card ><v-card-title class="headline" style="background:#F1FAFA">	<v-btn rounded color="primary" dark @click="close()" small><v-icon>mdi-keyboard-return</v-icon>返回</v-btn><v-spacer></v-spacer>	<v-btn v-if="(editedIndex>-1)&&editable" rounded small color="primary" dark @click="deleteItem(d_items[editedIndex]);"><v-icon>mdi-delete</v-icon>删除</v-btn><v-spacer></v-spacer>	 	<v-btn v-if="crudToolbar==false"  rounded color="primary" dark @click="close()" small><v-icon>mdi-keyboard-return</v-icon>返回</v-btn>	<v-btn v-else-if="editable" rounded color="primary" dark @click="saveData()" small><v-icon>mdi-alert-circle</v-icon>保存[{{editedItem.ID}}]</v-btn>	<v-btn v-else               rounded color="primary" dark @click="editable=true" small><v-icon>mdi-alert-circle</v-icon>开始编辑</v-btn></v-card-title><v-card-text><br><v-row  dense><v-col cols="12" md="6" lg="4"><v-text-field v-model="editedItem.d_title" label="支撑需求" type="text"  :readonly="!editable" dense></v-text-field></v-col><v-col cols="12"><v-textarea  rows=2 v-model="editedItem.d_task" label="需求描述：" outlined auto-grow :readonly="!editable" dense></v-textarea></v-col><v-col cols="12" md="6" lg="4">	<v-text-field v-model="editedItem.d_date1" label="开始时间：" type="text" readonly dense>	<template v-slot:append><v-btn v-if="editable==true" color="primary" dark onclick="app.fd_date('d_date1')" small>日历</v-btn></template></v-text-field></v-col><v-col cols="12" md="6" lg="4">	<v-text-field v-model="editedItem.d_date2" label="结束时间：" type="text" readonly dense>	<template v-slot:append><v-btn v-if="editable==true" color="primary" dark onclick="app.fd_date('d_date2')" small>日历</v-btn></template></v-text-field></v-col><v-col cols="12" md="6" lg="4"><v-chip small color="red" outlined label @click="user4fd('d_mem')" class="ma-1">选择人员：</v-chip>{{editedItem.d_mem_name}}</v-col><v-col cols="12"><v-textarea  rows=2 v-model="editedItem.d_memo" label="备注说明：" outlined auto-grow :readonly="!editable" dense></v-textarea></v-col><v-col cols="12"><v-alert v-if="editedItem.ID>0" border="left"   colored-border color="warning" elevation="15" align="center" >                <v-text-field v-model="editedItem.cur_status"   label="当前流程状态：" :readonly="!editable" dense></v-text-field>	        <v-text-field v-model="editedItem.cur_dept"      label="当前责任部门："  :readonly="!editable" dense></v-text-field>        <v-text-field v-model="editedItem.cur_clr"  label="当前承办人："  :readonly="!editable" dense></v-text-field></v-alert> </v-col> <v-btn v-if="editedItem.ID>0" color="primary"  @click="OpenFlow()" block class="my-3" >流程审批</v-btn> 	<!-- 经纬度 --><v-col cols="12" md="6"><v-text-field v-model="editedItem.d_lat" label="定位坐标经度：" type="text"  readonly dense>	<template v-slot:append> <v-btn v-if="editable==true" color="primary" dark onclick="getLoc(200000)" small>地图定位</v-btn>	&nbsp;<v-btn color="primary" dark @click="MapByLatLng('',editedItem.d_lat,editedItem.d_lng)" small>打开地图</v-btn></template>	</v-text-field></v-col><v-col cols="12" md="6"><v-text-field v-model="editedItem.d_lng" label="定位坐标纬度：" type="text"  readonly dense></v-text-field></v-col><v-col cols="12"><v-textarea rows=2 v-model="editedItem.d_addr" label="地址描述：" outlined auto-grow :readonly="!editable" dense></v-textarea></v-col> 	<!-- 照片   --><v-col cols="12"  v-if="editedItem.d_pic!=''">	<v-card elevation="5" max-width="400px">			<v-toolbar color="primary" dark height="33"><v-toolbar-title class="body-1">封面图片</v-toolbar-title></v-toolbar>			<v-img :src="editedItem.d_pic" @click="openPic(editedItem.d_pic)"></v-img>	</v-card></v-col> <v-col cols="12" v-if="editable">	<v-text-field class="mt-4" v-model="editedItem.d_pic" label="上传照片" type="text" readonly dense>	<template   v-slot:append>		<v-btn color="warning" v-if="this.app.browserQYWX"  dark @click="photo4fd('d_pic');" small>手机上传</v-btn>				&nbsp;		<v-btn color="primary" dark onclick="app.UploadPhoto('d_pic');" small>通过网页上传</v-btn>	</template></v-text-field></v-col> </v-row>    
<v-btn  small block depressed class="body-1 light-green lighten-2 white--text my-4"  @click="close()"><v-icon>mdi-keyboard-return</v-icon><v-spacer></v-spacer>返回<v-spacer></v-spacer><v-icon>mdi-keyboard-return</v-icon></v-btn>

</v-card-text></v-card></v-dialog><!-- 编辑的对话框 --><v-dialog v-model="FlowDialog" fullscreen scrollable><!-- 流程对话框----------流程 --><v-card ><v-card-title class="headline grey lighten-2 ma-2" >	<v-btn rounded color="primary" dark @click="FlowDialog=false" small><v-icon>mdi-keyboard-return</v-icon>返回</v-btn><v-spacer></v-spacer>		<v-btn rounded color="primary" dark @click="SetFlow()" small><v-icon>mdi-alert-circle</v-icon>提交流程</v-btn></v-card-title><v-card-title><span class0="headline"><code>{{editedItem.d_sn+(10000+editedItem.ID)}}：{{editedItem.d_title}}</code></span></v-card-title><v-card-text><v-row><v-col cols=12>	<v-select v-model="CS_nextStatus" return-object :items="TS_nextStatus" 	item-text="d_text" item-value="d_value" label="请选择下一环节&emsp;："></v-select><br>	<v-select v-model="CS_nextDept"   return-object :items="TS_nextDept" 	item-text="d_text" item-value="d_value" label="请选择下一处理部门：" @change="LoadNextClr()"></v-select><br>	<v-select v-model="CS_nextClr"    return-object :items="TS_nextClr" 	item-text="d_text" item-value="d_value" label="请选择下一处理人："></v-select><br>	<v-text-field v-model="cur_yijian"  label="请输入您的意见：" ></v-text-field>			</v-col></v-row>        </v-card-text></v-card></v-dialog><!-- 流程对话框 --></div></template><script>module.exports={data(){return {		varWin:{}, //H5的window全局变量 	itemsPerPageArray: [5, 10, 15],	search:'',searchdb:'',	filter: {},	sortDesc: false,	page: 1,	itemsPerPage: 5,	sortBy:'ID',		EditDialog: false,	FlowDialog: false,	editable:false,	cardmode:true,	addcount:0, //新记录，ID默认值	editedIndex: -1,	editedItem: {},	d_items:[],		ID0:0,ID1:0, //最小ID	crudPager:true,  //页码  	crudToolbar:true, //工具栏  	crudPanel:false,  //工具栏下面的panel	queryObj:{},      //url参数	d_type:'',			b_folder:false,//目录（文件夹）				url_r:'/common/data_r.asp',	url_s:'/common/data_s.asp',	url_d:'/common/data_d.asp',	test_data:'vt_task_data.asp',	url_f:'/common/data_f.asp',	parm_r:{r_page:1,r_rows:20,r_order:'ID$desc',r_searchdb:'',r_where:'',r_MaxID:0,r_MinID:0,				r_tab:'cm_djt',r_fd:'ID$d_sn$d_cat$d_title$d_task$d_date1$d_date2$d_mem$d_mem_name$d_lat$d_lng$d_addr$d_pic$d_memo$cur_status$cur_dept$cur_clr$cur_memID$attachNum',			r_fd0:'',       r_fd1: 'd_sn$d_cat$d_title$d_task$d_date1$d_date2$d_mem$d_mem_name$d_lat$d_lng$d_addr$d_pic$d_memo$cur_status$cur_dept$cur_clr$cur_memID'},	//个性化字段定义，以及字段初始化数值			defaultItem:{ID:-1,d_sn:'BL'+dayStr1,d_cat:'',d_title:'',d_detail:'',d_names:'',d_ids:'',d_date1:dayStr2,d_date2:dayStr2,d_lat:'',d_lng:'',d_addr:'',d_memo:'',d_pic:'',cur_status:'拟稿',cur_dept:g_dw_name,cur_clr:g_truename,cur_memID:g_mem_ID,d_uidsWX:''},		headers: [		{text: '操作',value: 'action',sortable: false,align:'center',divider:true,width:'50px' },		{text: 'ID', value: 'ID', align:'center', sortable: false,divider:true,width:'50px'},		{text: '支撑需求标题',value: 'd_title',divider:true,align:'center'},		{text: '需求描述',value: 'd_task',divider:true,align:'start'},				{text: '时间',value: 'd_date1' ,divider:true,align:'center'},		{text: '时间',value: 'd_date2' ,divider:true,align:'center'},				{text: '点将目标',value: 'd_mem_name',divider:true,align:'start'},		{text: '点将目标UID',value: 'd_mem'  ,divider:true,align:'start'},										{text: '经度',value: 'd_lat',divider:false,align:'start' },		{text: '纬度',value: 'd_lng',divider:false,align:'start' },		{text: '常用办公地址',value: 'd_addr',divider:false,align:'start' },		{text: '照片',value: 'd_pic',divider:false,align:'start' },		{text: '备注说明',value: 'd_memo',divider:false,align:'start' }, 		], 	j_title:'点将名单：',   // 用户名单标题    TS_nextDept:[],   CS_nextDept:   {ID:'',d_text:'0',d_value:'1'},//下一处理部门            TS_nextStatus:[], CS_nextStatus: {ID:'',d_text:'',d_value:''},//下一处理hjie环节，当前已选择的数值            TS_nextClr: [] ,  CS_nextClr:    {ID:'',d_text:'',d_value:''},//下一处理部门人, TS to select            cur_yijian:'请处理！',    rating:4,         	 } },computed: {numberOfPages () { return Math.ceil(this.d_items.length / this.itemsPerPage) },},created(){	 app.tabobj[app.tabobj.length -1]=this ; this.init(); this.editable=true},methods: {	newItem2(){  app.newItem(this); this.EditDialog=true;	this.editable=true;			this.j_items=[]; }, //显示清单清零   	afterData(){app.ShowSnack('数据加载完成！')},		checkData(){if(this.editedItem.d_title==''){this.ShowSnack('请输入支撑需求的标题！','warning');	return 0} 								return 1 },				editItem2(item){ app.editItem(this,item);	this.EditDialog=true;		this.j_items=[];  //显示清单清零		if(this.editedItem.d_ids=='' || this.editedItem.d_ids == null){return 0; }  //ids为空 ，无用户				var tmpArr1,tmpArr2,tmpArr3,tmpArr4,tmpArr5; //这3行split展开为table		tmpArr1=this.editedItem.d_ids.split('、');		tmpArr2=this.editedItem.d_uids.split('、');		tmpArr3=this.editedItem.d_names.split('、');	tmpArr4=this.editedItem.d_depts.split('、');		tmpArr5=this.editedItem.d_uidsWX.split('、');		for (i = 0; i < tmpArr1.length -1 ; i++){			this.j_items.push({ID:tmpArr1[i],DDuserid:tmpArr2[i],mem_Url:tmpArr3[i],dw_name:tmpArr4[i],WXuserid:tmpArr5[i]});	}		}, 	saveData2() { 		this.editedItem.d_ids='';this.editedItem.d_uids='';this.editedItem.d_names='';this.editedItem.d_depts='';this.editedItem.d_uidsWX=''; //清零		for (i = 0; i < this.j_items.length; i++) {			this.editedItem.d_ids   +=this.j_items[i].ID+'、';			this.editedItem.d_uids  +=this.j_items[i].DDuserid+'、';			this.editedItem.d_uidsWX  +=this.j_items[i].WXuserid+'、';						this.editedItem.d_names +=this.j_items[i].mem_Url+'、';			this.editedItem.d_depts +=this.j_items[i].dw_name+'、';}		app.saveData(this);}, //保存			delSelect(item){ if( confirm('确认删除该记录吗？ID='+item.ID)==0){return 0;}	var	i=this.j_items.indexOf(item);	this.j_items.splice(i,1);}	,toSelect(){ //打开用户选择窗口		app.cur_items =this.d_items;			app.cur_items2=this.j_items;	//参数通过APP传递给vt_sel_user		app.LoadVue2Win('选择用户','vt_sel_user');}	,	//打开流程对话框	OpenFlow(){		this.FlowDialog=true;		//app.obj2Arr(数据库参数，vue对象，vue里面的data，错误提示，读库ASP)		var flowParm={page:1,rows:20, r_where:'',r_tab:'cm_flow_step'};			app.obj2Arr(flowParm,this,'TS_nextStatus','读取流程环节出错','/common/data_bm.asp');  //_bm编码翻译		flowParm={page:1,rows:20, r_where:'',r_tab:'depts'};			app.obj2Arr(flowParm,this,'TS_nextDept','读取部门信息出错','/common/data_bm.asp');				},					LoadNextClr(){//alert(JSON.stringify(this.CS_nextDept));				flowParm={page:1,rows:20, r_where:'',r_tab:'clr',r_dept:this.CS_nextDept.d_value};									app.obj2Arr(flowParm,this,'TS_nextClr','读取处理人信息出错','/common/data_bm.asp');		},	//提交流程				SetFlow(){if(this.CS_nextClr.d_text==''){this.ShowAlert('信息不全：','请选择处理人!');	return 0; }		this.ShowSnack('正在提交流程!');		this.editedItem.cur_status=this.CS_nextStatus.d_text;		this.editedItem.cur_dept =this.CS_nextDept.d_text;		this.editedItem.cur_clr=this.CS_nextClr.d_text;		this.editedItem.cur_memID=this.CS_nextClr.d_value;				app.saveFlow(this);				this.FlowDialog=false;		this.CS_nextStatus.d_text='';		this.CS_nextDept.d_text='';		this.CS_nextClr.d_text='';		},							//以下引用标准crud		//规则：fun2,覆盖fun，fun0插入fun代码前	editItem(item){if(this.EditDialog){return 0 } 		if(typeof(eval(this.editItem2))=='function'){ this.editItem2(item) ; return 0 }				app.editItem(this,item);	this.EditDialog=true; 	}, //编辑				newItem(){ if(typeof(eval(this.newItem2))=='function'){this.newItem2(); return 0}	 			app.newItem(this); this.EditDialog=true;	this.editable=true;       		   if(typeof(eval(this.newInit))=='function'){this.newInit();}	 //执行初始化回调	},	moreItem(){ if(typeof(eval(this.moreItem2))=='function'){this.moreItem2(); return 0}	 			app.moreItem(this);       		  	},		deleteItem(item){ if(typeof(eval(this.deleteItem2))=='function'){this.deleteItem2(item); return 0}	 			app.deleteItem(this,item);this.EditDialog=false;},				saveData(){ if(typeof(eval(this.checkData))=='function'){if(this.checkData()!=1){return 0}}	 			if(typeof(eval(this.saveData2))=='function'){this.saveData2(); return 0}	 			app.saveData(this);}, //保存		close(){if(typeof(eval(this.close2))=='function'){this.close2(); return 0}	 			if(app.sysWin){app.sysWin=false;app.sysWinCom=''; return 0}			if(this.EditDialog){this.EditDialog = false; return 0}			app.DelTab()	},		//init2()>init0()+init() 	init(){ if(typeof(eval(this.init2))=='function'){this.init2(); return 0}			if(typeof(eval(this.init0))=='function'){this.init0();} 	//插入init0()			if(gv_db!=''){app.getData(this);}else{app.getTestData(this);}},//init				openTab(){if(this.parm_r.r_tab=='cm_richtext'){this.LoadVueParm(this.defaultItem.TopTab,this.defaultItem.TopRow,this.defaultItem.d_type,this.d_attr.title,'vt_richText_card') 		}else if(this.parm_r.r_tab=='cm_team'){    this.LoadVueParm(appSN,'0','1','虚拟团队','vt_team') }	 	    		}, //打开本栏目					LoadFolder(CurNode){//加载目录（文件夹）		this.clickedNode=CurNode;		this.defaultItem.topID=CurNode.id;		if(CurNode.id!=0){this.url_r='/common/data_r.asp?r_TopID='+CurNode.id; }//TopID下属检索 //修改app.ShowSnack('这是：'+ID);			else{this.url_r='/common/data_r.asp'; }		this.init();			if(CurNode.children.length){return 0} 	//已刷新				flowParm={page:1,rows:100, d_type:this.defaultItem.d_type,topID:CurNode.id};		axios.post('/common/data_folder.asp',qs.stringify(flowParm) ).then(response=>{			CurNode.childNum=response.data.rows.length;			for (var i=0; i < response.data.rows.length; i++)				{CurNode.children.push({id:response.data.rows[i].ID,name:response.data.rows[i].d_title,childNum:-1,children:[]});}						}).catch((err)=>{app.ShowAlert('warning','读取目录信息出错:',err); })	},			 	nextPage(){  if(this.page + 1 <= this.numberOfPages) this.page += 1},	formerPage(){if(this.page - 1 >= 1) this.page -= 1},	updateItemsPerPage(number) {		this.itemsPerPage = number },	haveAcc(myacc){return app.ACC.indexOf(myacc)>-1}, //是否具备某权限	LoadVue(s1,s2,s3,s4){app.LoadVue(s1,s2,s3,s4);},  //上级APP的函数重新封装	LoadVueACC(s1,s2,s3,s4,s5){app.LoadVueACC(s1,s2,s3,s4,s5);}, 		LoadVueParm(TopTab,TopRow,d_type,tabtitle,vueName,filename,parm){app.LoadVueParm(TopTab,TopRow,d_type,tabtitle,vueName,filename,parm)},	LoadVueMemID(TopTab,TopRow,tabtitle,vueName,filename,parm){app.LoadVueMemID(TopTab,TopRow,tabtitle,vueName,filename,parm)},	LoadVue2Win(t,vueName,filename,parm){app.LoadVue2Win(t,vueName,filename,parm)},		LoadVue2WinParm(TopTab,TopRow,d_type,t,vueName,filename,parm){app.LoadVue2WinParm(TopTab,TopRow,d_type,	t,vueName,filename,parm)},	OpenIfr(title,url){app.OpenIfr(title,url)},	MapByLatLng(title,lat,lng ){app.MapByLatLng(title,lat,lng )},		ShowJson(d){ShowJson(d)},		ShowAlert(Title,Msg,Type){if(Type){app.ShowAlert(Type,Title,Msg)}else{app.ShowAlert('warning',Title,Msg)}},	ShowSnack(Msg,color){app.ShowSnack(Msg,color)},	ObjClass(obj){alert(obj.constructor.name+'：'+obj.constructor)},	Asp2Arr(url,obj,fd){app.Asp2Arr(url,obj,fd)},		ExecFun(fun,p1,p2,p3){window[fun](p1,p2,p3);},//vue中执行window的函数			MyCall(telno,Title,Msg,calleeID){app.MyCall(telno,Title,Msg,calleeID)},//vue 封装	MyCallMulti(CalleeIDwx,CalleeIDdd,Title,Msg){app.MyCallMulti(CalleeIDwx,CalleeIDdd,Title,Msg)},	setTmpStr(item){app.tmpStr2=item.d_mem_name;	app.tmpStr3=item.d_title;	app.tmpStr1=item.d_mem;}, 	TmpStr(s1,s2,s3){app.tmpStr1=s1;	app.tmpStr2=s2;		app.tmpStr3=s3;}, 	SdkMeeting(Title,CalleeID,dtype,save){SdkMeeting(Title,CalleeID,dtype,save)},	SdkMeetingObj(obj){SdkMeetingObj(obj)},	SdkMsg(item){app.SdkMsg(item)},	SdkMsg2Uid(uid,uname,msg){app.SdkMsg2Uid(uid,uname,msg)},	MsgPost(obj){MsgPost(obj)},//发msg，在sdk-wx		sendDing(uids,title){sendDing(uids,title)},//发钉，在sdk-dd				ShowUserPos(id){ShowUserPos(id)},		selectUser(){selectUser(this.d_users)},// 分别在微信与钉钉sdk中	selectUserEx(){selectUserEx(this.d_usersEx)},//外部联系人			openUserProfile(uid){openUserProfile(uid)},	//微信打开profile	user4fd(fd){user4fd(this,fd)},	addr4fd(fd,latlng){app.addr4fd(this,fd,latlng)},		photo4fd(fd){photo4fd(this,fd)},	openPic(url){openPic(url)},	CallObj4Users(){app.tmpObj=this;	app.LoadVue2Win('选择用户','vt_CallObj')},// 分别在微信与钉钉sdk中,从群组中选择用户清单	postReadeded(tab,row,msg){app.postReadeded(tab,row,msg)},	postLog(msg1,msg2){app.postLog(msg1,msg2)},	VarRet(fd){return app[fd]},		 //initParm参数传给app临时变量,setParm临时变量传到Vue实例。	initParm(d_type){app.TopTab=this.parm_r.r_tab;	app.TopRow=this.editedItem.ID;		app.d_type=d_type;},	setParm(){this.defaultItem.TopTab=app.TopTab;	this.defaultItem.TopRow=app.TopRow;		this.defaultItem.d_type=app.d_type;		this.url_r ='/common/data_r.asp?TopTab='+app.TopTab+'&TopRow='+app.TopRow +'&d_type='+app.d_type;	//alert(this.url_r)		},	showColor(t){switch(t){ case 'Ⅰ级':case '红色':return 'error';				case 'Ⅱ级':case '橙色':return 'warning';							case 'Ⅲ级':case '黄色':return 'yellow darken-1'; 	case 'Ⅳ级':case '蓝色':return 'primary'; 	default:return 'green';}},	 }, }</script>